/**
 * Inline SVG icons for key technologies.
 * Paths sourced from Simple Icons (https://simpleicons.org/) â€” MIT/CC0 licensed.
 */

interface TechIconProps {
  name: string;
  size?: number;
  className?: string;
}

const icons: Record<string, { path: string; color: string }> = {
  python: {
    color: "#3776AB",
    path: "M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.02h.16l5.97.02.52-.05.45-.14.38-.2.32-.26.26-.29.2-.31.15-.31.1-.3.07-.26.04-.21.02-.13V3.19l.01-.72-.02-.33-.05-.26-.09-.23-.13-.2-.19-.19-.26-.16-.34-.14-.43-.1-.55-.08-.67-.04h-1.27zm-1.73 1.1c.25 0 .48.05.68.13.2.09.35.22.44.39s.14.37.14.62-.05.42-.15.59-.25.31-.45.4c-.2.1-.42.14-.66.14s-.47-.05-.66-.14c-.2-.1-.35-.23-.45-.41-.1-.17-.15-.37-.15-.58 0-.25.05-.45.15-.62.1-.17.25-.3.45-.39.2-.08.41-.13.66-.13z M19.53 6.03l.21.03.28.07.32.12.35.18.36.26.36.36.35.46.32.59.28.73.21.89.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.1-.32.05-.24.02h-.16L13.5 17.7l-.52.05-.45.14-.38.21-.32.26-.26.29-.2.31-.15.31-.1.3-.07.26-.04.21-.02.13v5.1l-.01.71.02.33.05.26.09.23.13.2.19.19.26.16.34.14.43.1.55.08.67.04h1.27l.73-.04.56-.1.41-.17.3-.25.21-.31.14-.34.09-.32.05-.28.02-.19v-4.12l.05-.63.13-.55.21-.46.26-.38.3-.31.33-.25.35-.19.35-.14.33-.1.3-.07.26-.04.21-.02h4.95l.69-.05.59-.14.5-.22.41-.27.33-.32.27-.35.2-.36.15-.37.1-.35.07-.32.04-.27.02-.21V9.4l.01-.72-.02-.33-.05-.26-.09-.23-.13-.2-.19-.19-.26-.16-.34-.14-.43-.1-.55-.08-.67-.04H13.5l-.72.04-.55.1-.41.17-.3.25-.21.31-.14.34-.09.32-.05.28-.02.19v4.12zm-1.65 10.79c-.25 0-.48-.05-.68-.13-.2-.09-.35-.22-.44-.39-.1-.17-.14-.37-.14-.62s.05-.42.15-.59.25-.31.45-.4c.2-.1.42-.14.66-.14s.47.05.66.14c.2.1.35.23.45.41.1.17.15.37.15.58 0 .25-.05.45-.15.62-.1.17-.25.3-.45.39-.2.08-.41.13-.66.13z",
  },
  docker: {
    color: "#2496ED",
    path: "M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.186.186 0 00-.185.185v1.888c0 .102.083.185.185.185zm-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.186.186 0 00-.185.185v1.888c0 .102.082.185.185.186zm0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.186.186 0 00-.185.185v1.887c0 .102.082.185.185.186zm-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.186.186 0 00-.185.185v1.887c0 .102.083.185.185.186zm-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.186.186 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186zm5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185zm-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185zm-2.964 0h2.119a.186.186 0 00.185-.185V9.006a.186.186 0 00-.185-.186H5.136a.186.186 0 00-.186.185v1.888c0 .102.084.185.186.185zm-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185zm23.693-1.32c-.238-.18-.592-.371-1.056-.482-.076-.019-.156-.035-.238-.049a5.157 5.157 0 00-.466-1.72 5.424 5.424 0 00-.725-1.07c-.317-.346-.68-.523-1.08-.527-.392-.003-.783.163-1.161.499-.18.16-.344.344-.494.549-.043-.012-.087-.022-.131-.031a3.27 3.27 0 00-.591-.076c-.066-.002-.131 0-.197.004a6.463 6.463 0 00-.261-.263c-.455-.424-.995-.634-1.505-.564-.516.07-.964.383-1.27.882-.06.098-.113.2-.161.307a4.197 4.197 0 00-.355-.023 3.915 3.915 0 00-.928.108c.18-.32.249-.7.173-1.09a1.765 1.765 0 00-.652-1.025 1.876 1.876 0 00-1.177-.404 1.923 1.923 0 00-1.283.507 2.74 2.74 0 00-.337.378c-.18-.136-.376-.244-.585-.323-.536-.2-1.108-.175-1.607.07a2.366 2.366 0 00-.98.852",
  },
  gcp: {
    color: "#4285F4",
    path: "M12.19 2.38a9.344 9.344 0 00-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.11-.247 10.941l.006-.007-.007.003a6.542 6.542 0 005.252 2.656h8.08c4.893-.07 8.94-5.408 6.893-10.34a9.345 9.345 0 00-10.743-10.146zM12 6c3.14 0 5.702 2.378 5.974 5.424l.014.18.165.084a3.577 3.577 0 011.735 2.548l.02.177.002.168c0 1.962-1.6 3.56-3.57 3.56H7.63A3.435 3.435 0 014.2 14.726c0-1.543 1.06-2.863 2.54-3.27l.217-.057.03-.222A5.97 5.97 0 0112 6z",
  },
  aws: {
    color: "#FF9900",
    path: "M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 01-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 01-.287-.375 6.18 6.18 0 01-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 01-.28.104.488.488 0 01-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 01.224-.167c.279-.144.614-.264 1.005-.36a4.84 4.84 0 011.246-.151c.95 0 1.644.216 2.091.647.439.43.662 1.085.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.694v-.335a6.66 6.66 0 00-.735-.136 6.02 6.02 0 00-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296zm6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.398 1.398 0 01-.072-.32c0-.128.064-.2.191-.2h.783c.151 0 .255.025.31.08.065.048.113.16.16.312l1.342 5.284 1.245-5.284c.04-.16.088-.264.151-.312a.549.549 0 01.32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348c.048-.16.104-.264.16-.312a.52.52 0 01.311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1.137 1.137 0 01-.056.2l-1.923 6.17c-.048.16-.104.263-.168.311a.51.51 0 01-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.272-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.216-.151-.24-.223a.535.535 0 01-.04-.2v-.391c0-.168.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 00.415-.758.777.777 0 00-.215-.559c-.144-.151-.415-.287-.807-.414l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.902 1.902 0 01-.4-1.158c0-.335.073-.63.216-.886.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.176 0 .359.008.535.032.183.024.35.056.518.088.16.04.312.08.455.127.144.048.256.096.336.144a.69.69 0 01.24.2.43.43 0 01.071.263v.36c0 .168-.064.255-.184.255a.83.83 0 01-.303-.096 3.652 3.652 0 00-1.532-.311c-.455 0-.815.071-1.062.223-.248.152-.375.383-.375.694 0 .223.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767.247.327.367.702.367 1.117 0 .343-.072.655-.207.926-.144.272-.336.511-.583.703-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167zM21.698 16.207c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.272-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.383.607zM22.792 14.961c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994z",
  },
  redis: {
    color: "#DC382D",
    path: "M10.5 2.661l.54.997-1.797.644 2.409.218.748 1.246.467-1.122 2.077-.208-1.61-.613.46-1.162-1.578.79zm8.907 5.669s-5.158-2.14-6.19-2.585c-1.1-.475-1.588-.317-2.638.135C9.39 6.37 3.37 8.782 3.37 8.782l6.953 2.85 9.084-3.302zM10.14 18.678l.003-5.658-7.003-2.86v5.658zm1.702-5.676v5.664l9.158-3.46v-5.673l-3.957 1.498a.358.358 0 01-.058.117l-1.35 2.25-3.793-4.396z",
  },
  postgresql: {
    color: "#4169E1",
    path: "M17.128 0a10.134 10.134 0 00-2.755.403l-.063.02A10.922 10.922 0 0012.6.258C11.422.238 10.41.524 9.594 1 8.79.721 7.122.24 5.364.336 4.14.403 2.804.775 1.814 1.82.824 2.865.305 4.482.415 6.682c.03.607.203 1.597.49 2.879s.69 2.783 1.193 4.152c.503 1.37 1.054 2.6 1.915 3.436.43.418 1.005.727 1.655.66.429-.044.818-.282 1.13-.606-.086.166-.068.2.013.373.127.263.378.63.478.738.327.35.683.6 1.082.702a2.2 2.2 0 001.315-.1c.263-.098.49-.244.688-.418l.007.033c.248.246.539.387.834.458.43.102.87.065 1.237-.074a1.04 1.04 0 00.15-.075c.047.095.089.178.14.264.212.36.474.675.834.858.37.187.77.21 1.115.065.29-.121.507-.353.66-.596.155-.244.254-.503.335-.756.168-.526.27-1.07.358-1.606.218.024.444.024.665-.009.392-.058.741-.212.996-.478.16-.168.27-.387.31-.665a.947.947 0 00-.116-.583c-.108-.186-.26-.327-.41-.456a3.824 3.824 0 01-.356-.345c-.117-.123-.245-.27-.379-.436a8.09 8.09 0 01-.26-.38c.298-.168.56-.38.728-.68.167-.3.228-.678.13-1.065-.126-.501-.503-.919-.916-1.199-.414-.28-.872-.44-1.284-.538a5.72 5.72 0 00-.14-.034c.008-.077.015-.154.02-.231.026-.4.014-.795-.064-1.17A3.282 3.282 0 0018 5.61a1.404 1.404 0 00-.096-.122c.048-.088.092-.18.127-.279.18-.51.16-1.126-.085-1.783A4.663 4.663 0 0017.128 0z",
  },
  fastapi: {
    color: "#009688",
    path: "M12 0C5.375 0 0 5.375 0 12c0 6.627 5.375 12 12 12 6.626 0 12-5.373 12-12 0-6.625-5.373-12-12-12zm-.624 21.62v-7.528H7.19L13.203 2.38v7.528h4.029L11.376 21.62z",
  },
};

// Normalize lookup: lowercase, strip spaces/dots
function normalize(name: string): string {
  return name.toLowerCase().replace(/[\s.()]/g, "");
}

// Map alternate names to canonical keys
const aliases: Record<string, string> = {
  "googlecloud": "gcp",
  "gcpvertexai": "gcp",
  "vertexai": "gcp",
  "amazonwebservices": "aws",
  "postgres": "postgresql",
  "redis": "redis",
  "docker": "docker",
  "python": "python",
  "fastapi": "fastapi",
};

export default function TechIcon({ name, size = 16, className = "" }: TechIconProps) {
  const key = aliases[normalize(name)] ?? normalize(name);
  const icon = icons[key];
  if (!icon) return null;

  return (
    <svg
      viewBox="0 0 24 24"
      width={size}
      height={size}
      fill={icon.color}
      className={`inline-block shrink-0 ${className}`}
      aria-hidden="true"
    >
      <path d={icon.path} />
    </svg>
  );
}
